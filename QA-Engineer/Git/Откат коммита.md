### 1. Откатить последний коммит, сохранив изменения в рабочем каталоге

Если вы хотите отменить последний коммит, но сохранить изменения в рабочем каталоге (например, чтобы поправить что-то и закоммитить снова), используйте команду:

`git reset --soft HEAD~1`

- `HEAD~1` указывает на предыдущий коммит (на один назад от текущего).
- Флаг `--soft` оставляет изменения в рабочем каталоге и добавляет их в индекс, как если бы вы их только что добавили.

### 2. Откатить последний коммит и удалить изменения

Если вы хотите отменить последний коммит и удалить изменения (вернуть файлы в то состояние, в котором они были до коммита):

`git reset --hard HEAD~1`

- `--hard` удалит все изменения, которые были внесены в этом коммите, и вернет файлы к предыдущему состоянию.

### 3. Откатить несколько коммитов

Если нужно откатить несколько последних коммитов, можно указать, сколько коммитов откатить:

`git reset --hard HEAD~N`

Где `N` — количество коммитов, которые нужно откатить. Например, чтобы откатить последние три коммита, используйте `HEAD~3`.

### 4. Откатить коммит, оставив историю (Revert)

Если коммит уже отправлен в удаленный репозиторий и вы хотите сохранить историю, лучше использовать команду `revert`:

`git revert <commit_hash>`

- `<commit_hash>` — это хеш коммита, который нужно откатить. Команда `git log` поможет найти нужный хеш.
- Эта команда создаст новый коммит, который отменяет изменения предыдущего, при этом история проекта останется линейной и прозрачной.

### 5. Откатить изменения, не затрагивая коммит (git restore)

Если нужно вернуть файлы к состоянию определенного коммита, но не трогать сам коммит:

`git restore --source=<commit_hash> <file_name>`

- `<commit_hash>` — хеш коммита, из которого нужно восстановить файлы.
- `<file_name>` — конкретный файл, который нужно восстановить. Если оставить пустым, восстановятся все файлы.

### 6. Восстановление коммита после `reset --hard`

Если вы случайно использовали `reset --hard` и хотите вернуть потерянные изменения, можно попытаться их восстановить с помощью команды:

`git reflog`

- `git reflog` покажет все изменения состояния HEAD, включая те, которые были отменены.
- Найдите нужный коммит и используйте `git reset --hard <commit_hash>` для восстановления.